<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Shopping!</title>
    <link rel="stylesheet" href="index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> 
    <link
        href="https://fonts.googleapis.com/css2?family=Arimo:wght@600&family=Caveat:wght@400..700&family=Sedan&family=Roboto+Serif:ital,opsz,wght@0,8..144,100..900;1,8..144,100..900&family=Kalam:wght@700&family=Merriweather&display=swap"
        rel="stylesheet">
    <script src="https://kit.fontawesome.com/1c4b2b8f9d.js" crossorigin="anonymous"></script>

</head>


<body>
    <header id='banner'>
        <img src="4.png"  id='logo'>
        <nav id='menu'>
            <a href="#" class="singleMenu selected">Home</a>
            <a href="#" class="singleMenu">Women</a>
            <a href="#" class="singleMenu">Men</a>
            <a href="#" class="singleMenu">Contact</a>
        </nav>
        <!-- <p id='slogan'>Earn Your Commission From Today</p> -->
        <a href="#" id="trigger-modal">Register</a>
    </header>
    <main id='main'>
        <img src="a.jpg"
            style="width: 100%; position: absolute; top: 0;">
        <section id="pictureOverlay">
            <h1 id="websiteTitle">Dream big, start small, but most of all, start.</h1>

            <h3 id="websiteExplanation">Promote your favorite products to your fans!
                <br>Click on any product to learn more and explore exciting possibilities today!
            </h3>

            <form id="searchBox">
                <input type="text" placeholder="Search for items or location..." id="searchBoxInput"
                    style="color:#FFFF00;">
                <button type="submit" id="searchBoxButton"><i class="fa-solid fa-magnifying-glass"
                        style="width:90%;"></i></button>
            </form>
        </section>
    </main>

    <script>
        var input = document.getElementById('searchBoxInput');
        var border = document.getElementById('searchBox');

        input.addEventListener('focus', function () {
            border.style.boxShadow = "0 0 7px 3px #00BB2D";
        });

        input.addEventListener('blur', function () {
            border.style.boxShadow = "0 0 20px 0 #353535";
        });
    </script>

    <!-- Top Sales 区域 -->

    <!-- <section id="top-sales">
        <h2>Top Sales / Top Commission</h2>
    
        <div class="top-sales-item">
            <div class="left-content">
                <img src="1.jpg" alt="Top Sales product" class="top-sales-image">
                <a href="website.html" class="top-sales-link">xxxx.link</a>
            </div>

            <div class="right-content">
                <h3>Small Box</h3>
                <p>A sleek, elegant box crafted from premium materials. Perfect for storing jewelry or small items with style. 
                    Compact, practical, and versatile—ideal for home or travel.</p>
                <p class="top-sales-price">$250</p>
            </div>
        </div>
    </section> -->

        <div class="top-section">
            <h2>Top Sales</h2>
            <div class="top-label">
            <!-- <h2>Top Sales</h2> -->
            </div>
            <div id="top-sales" class="sales-container">
            </div>
        </div>
        


    <div id="layout">
        <nav id="sidebar">
            <!-- 侧边栏内容 -->
            <div id="top-sales"></div> <!-- 滚动区域 -->
        </nav>
        <div id="main-content">
            <section id="product-list"></section>
            <div id="pagination"></div>
        </div>
        <section id="product-details" style="display:none;">
            <h2 id="details-name"></h2>
            <img id="details-image" src="" alt="商品图片" width="300" height="300">
            <p id="details-description"></p>
            <p id="details-price"></p>
            <button onclick="goBack()">Return</button>
        </section>
    </div>
    


    <script>
        const products = [
            { name: "Small box1", image: "1.jpg", description: "这是商品1的详细描述。", price: "$100", category: "Category 1" },
            { name: "Small box2", image: "2.jpg", description: "这是商品2的详细描述。", price: "$150", category: "Category 1" },
            { name: "Small box3", image: "3.jpg", description: "这是商品3的详细描述。", price: "$200", category: "Category 1" },
            { name: "Small box4", image: "4.jpg", description: "这是商品4的详细描述。", price: "$400", category: "Category 1" },
            { name: "Small box5", image: "1.jpg", description: "这是商品5的详细描述。", price: "$200", category: "Category 2" },
            { name: "Small box6", image: "2.jpg", description: "这是商品6的详细描述。", price: "$400", category: "Category 2" },
            { name: "Small box7", image: "3.jpg", description: "这是商品7的详细描述。", price: "$500", category: "Category 2" },
            { name: "Small box8", image: "4.jpg", description: "这是商品8的详细描述。", price: "$600", category: "Category 3" },
            { name: "Small box9", image: "1.jpg", description: "这是商品9的详细描述。", price: "$300", category: "Category 3" },
            { name: "Small box1", image: "1.jpg", description: "这是商品1的详细描述。", price: "$100", category: "Category 1" },
            { name: "Small box2", image: "2.jpg", description: "这是商品2的详细描述。", price: "$150", category: "Category 1" },
            { name: "Small box3", image: "3.jpg", description: "这是商品3的详细描述。", price: "$200", category: "Category 1" },
            { name: "Small box4", image: "4.jpg", description: "这是商品4的详细描述。", price: "$400", category: "Category 1" },
            { name: "Small box5", image: "1.jpg", description: "这是商品5的详细描述。", price: "$200", category: "Category 2" },
            { name: "Small box6", image: "2.jpg", description: "这是商品6的详细描述。", price: "$400", category: "Category 2" },
            { name: "Small box7", image: "3.jpg", description: "这是商品7的详细描述。", price: "$500", category: "Category 2" },
            { name: "Small box8", image: "4.jpg", description: "这是商品8的详细描述。", price: "$600", category: "Category 3" },
            { name: "Small box9", image: "1.jpg", description: "这是商品9的详细描述。", price: "$300", category: "Category 3" },
        ];
    
        const categories = ["Category 1", "Category 2", "Category 3"]; // 类目列表
        const ITEMS_PER_PAGE = 6; // 每页显示的商品数量
        let currentPage = 1; // 当前页码
        let currentCategory = categories[0]; // 当前选中的类目
    
        window.onload = function () {
            const sidebar = document.getElementById('sidebar');
            const productList = document.getElementById('product-list');
            const pagination = document.getElementById('pagination'); // 分页按钮容器
            const topSales = document.getElementById('top-sales'); // 获取 Top Sales 容器
    
            // 动态生成类目
            categories.forEach(category => {
                const tab = document.createElement('a');
                tab.className = 'tab';
                tab.href = "#";
                tab.textContent = category;
                tab.addEventListener('click', () => {
                    currentCategory = category; // 更新当前类目
                    currentPage = 1; // 点击类目时重置页码到第一页
                    displayProducts(productList, pagination);
                });
                sidebar.appendChild(tab);
            });
    
            // 初始化显示商品
            function displayProducts(productList, pagination) {
                const filteredProducts = products.filter(product => product.category === currentCategory);
                const totalItems = filteredProducts.length;
                const totalPages = Math.ceil(totalItems / ITEMS_PER_PAGE);

                // 当前页的商品
                const startIndex = (currentPage - 1) * ITEMS_PER_PAGE;
                const endIndex = startIndex + ITEMS_PER_PAGE;
                const productsToShow = filteredProducts.slice(startIndex, endIndex);

                // 渲染商品列表
                productList.innerHTML = ""; // 清空当前商品列表
                productsToShow.forEach((product, index) => {
                    const article = document.createElement('article');
                    article.className = 'product';

                    // 创建商品卡片的 HTML
                    article.innerHTML = `
                        <h2 class="product-name">${product.name}</h2>
                        <img src="${product.image}" alt="${product.name}图片" width="200" height="100">
                        <p class="product-price">${product.price}</p>
                        <a href="details.html?name=${encodeURIComponent(product.name)}&image=${encodeURIComponent(product.image)}&description=${encodeURIComponent(product.description)}&price=${encodeURIComponent(product.price)}">
                            <button>查看详情</button>
                        </a>
                    `;

                    // 将商品卡片添加到商品列表
                    productList.appendChild(article);
                });

                // 渲染分页
                renderPagination(pagination, totalPages);
            }


    
            // 初始化 Top Sales 动画部分
            products.forEach((product, index) => {
                const saleItem = document.createElement('div');
                saleItem.className = 'sale-item';
                saleItem.innerHTML = `
                    <h2 class="product-name">${product.name}</h2>
                    <img src="${product.image}" alt="${product.name}图片" width="100" height="50">
                    <p class="product-price">${product.price}</p>
                `;
                topSales.appendChild(saleItem); // 插入到滚动区域
            });
    
            // 获取所有的 sale-item 元素
            const saleItems = document.querySelectorAll('.sale-item');
    
            // 添加动画的鼠标事件
            saleItems.forEach(item => {
                item.addEventListener('mouseover', () => {
                    item.style.animationPlayState = 'paused'; // 暂停动画
                });
    
                item.addEventListener('mouseout', () => {
                    item.style.animationPlayState = 'running'; // 恢复动画
                });
            });
        };
    
        // 根据类目和页码显示商品
        function displayProducts(productList, pagination) {
            const filteredProducts = products.filter(product => product.category === currentCategory);
            const totalItems = filteredProducts.length;
            const totalPages = Math.ceil(totalItems / ITEMS_PER_PAGE);
    
            // 当前页的商品
            const startIndex = (currentPage - 1) * ITEMS_PER_PAGE;
            const endIndex = startIndex + ITEMS_PER_PAGE;
            const productsToShow = filteredProducts.slice(startIndex, endIndex);
    
            // 渲染商品列表
            productList.innerHTML = "";
            productsToShow.forEach(product => {
                const article = document.createElement('article');
                article.className = 'product';
                article.innerHTML = `
                    <h2 class="product-name">${product.name}</h2>
                    <img src="${product.image}" alt="${product.name}图片" width="200" height="100">
                    <p class="product-price">${product.price}</p>
                    <button onclick="showDetails('${product.name}', '${product.image}', '${product.description}', '${product.price}')">查看详情</button>
                `;
                productList.appendChild(article);
            });
    
            // 渲染分页
            renderPagination(pagination, totalPages);
        }
    
        // 渲染分页按钮
        function renderPagination(pagination, totalPages) {
            pagination.innerHTML = ""; // 清空分页区域
    
            for (let i = 1; i <= totalPages; i++) {
                const pageButton = document.createElement('button');
                pageButton.textContent = i;
                pageButton.className = i === currentPage ? 'active' : '';
                pageButton.addEventListener('click', () => {
                    currentPage = i;
                    displayProducts(document.getElementById('product-list'), pagination);
                });
                pagination.appendChild(pageButton);
            }
        }
    
        // 显示商品详情
        function showDetails(name, image, description, price) {
            const productList = document.getElementById('product-list');
            const productDetails = document.getElementById('product-details');
    
            productList.style.display = 'none';
            productDetails.style.display = 'block';
    
            document.getElementById('details-name').textContent = name;
            document.getElementById('details-image').src = image;
            document.getElementById('details-description').textContent = description;
            document.getElementById('details-price').textContent = price;
        }
    
        // 返回商品列表
        function goBack() {
            document.getElementById('product-list').style.display = 'block';
            document.getElementById('product-details').style.display = 'none';
        }
    </script>
    
   
    <!-- <script>
        const ITEMS_PER_PAGE = 6; // 每页显示的商品数量
        let currentPage = 1; // 当前页码
        let currentCategory = ""; // 当前选中的类目
    
        window.onload = function () {
            const sidebar = document.getElementById('sidebar');
            const productList = document.getElementById('product-list');
            const pagination = document.getElementById('pagination'); // 分页按钮容器
            const topSales = document.getElementById('top-sales'); // 获取 Top Sales 容器
    
            //  1111
            fetch('/api/categories') 
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to fetch categories');
                    }
                    return response.json();
                })
                .then(data => {
                    const categories = data.categories; // 从后端返回的类目数据
                    if (categories.length > 0) {
                        currentCategory = categories[0]; // 默认选中第一个类目
                    }
    
                    // 渲染侧边栏
                    categories.forEach(category => {
                        const tab = document.createElement('a');
                        tab.className = 'tab';
                        tab.href = "#";
                        tab.textContent = category;
                        tab.addEventListener('click', () => {
                            currentCategory = category;
                            currentPage = 1; // 切换类目时重置到第一页
                            fetchProductsByCategory(currentCategory, productList, pagination);
                        });
                        sidebar.appendChild(tab);
                    });
    
                    // 初始化默认类目商品
                    if (currentCategory) {
                        fetchProductsByCategory(currentCategory, productList, pagination);
                    }
                })
                .catch(error => {
                    console.error('Error fetching categories:', error);
                });
    
            // 初始化 Top Sales 动画部分（静态数据）
            fetchTopSales(topSales);
        };
    
        // 动态获取商品数据
        function fetchProductsByCategory(category, productList, pagination) {
            fetch(`/api/products?category=${encodeURIComponent(category)}`) // 111111
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to fetch products');
                    }
                    return response.json();
                })
                .then(data => {
                    const products = data.products; // 从后端返回的商品数据
                    displayProducts(products, productList, pagination);
                })
                .catch(error => {
                    console.error('Error fetching products:', error);
                });
        }
    
        // 初始化 Top Sales 区域
        function fetchTopSales(topSales) {
            fetch('/api/top-sales') // 替换为后端实际 API 地址
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to fetch top sales');
                    }
                    return response.json();
                })
                .then(data => {
                    const products = data.products; // 从后端返回的 Top Sales 数据
                    products.forEach((product, index) => {
                        const saleItem = document.createElement('div');
                        saleItem.className = 'sale-item';
                        saleItem.innerHTML = `
                            <h2 class="product-name">${product.name}</h2>
                            <img src="${product.image}" alt="${product.name}图片" width="100" height="50">
                            <p class="product-price">${product.price}</p>
                        `;
                        topSales.appendChild(saleItem); // 插入到滚动区域
                    });
    
                    // 获取所有的 sale-item 元素
                    const saleItems = document.querySelectorAll('.sale-item');
    
                    // 添加动画的鼠标事件
                    saleItems.forEach(item => {
                        item.addEventListener('mouseover', () => {
                            item.style.animationPlayState = 'paused'; // 暂停动画
                        });
    
                        item.addEventListener('mouseout', () => {
                            item.style.animationPlayState = 'running'; // 恢复动画
                        });
                    });
                })
                .catch(error => {
                    console.error('Error fetching top sales:', error);
                });
        }
    
        // 显示商品数据
        function displayProducts(products, productList, pagination) {
            const totalItems = products.length;
            const totalPages = Math.ceil(totalItems / ITEMS_PER_PAGE);
    
            const startIndex = (currentPage - 1) * ITEMS_PER_PAGE;
            const endIndex = startIndex + ITEMS_PER_PAGE;
            const productsToShow = products.slice(startIndex, endIndex);
    
            // 渲染商品列表
            productList.innerHTML = "";
            productsToShow.forEach(product => {
                const article = document.createElement('article');
                article.className = 'product';
                article.innerHTML = `
                    <h2 class="product-name">${product.name}</h2>
                    <img src="${product.image}" alt="${product.name}图片" width="200" height="100">
                    <p class="product-price">${product.price}</p>
                    <button onclick="showDetails('${product.name}', '${product.image}', '${product.description}', '${product.price}')">查看详情</button>
                `;
                productList.appendChild(article);
            });
    
            // 渲染分页按钮
            renderPagination(products, totalPages, productList, pagination);
        }
    
        // 渲染分页按钮
        function renderPagination(products, totalPages, productList, pagination) {
            pagination.innerHTML = "";
            for (let i = 1; i <= totalPages; i++) {
                const pageButton = document.createElement('button');
                pageButton.textContent = i;
                pageButton.className = i === currentPage ? 'active' : '';
                pageButton.addEventListener('click', () => {
                    currentPage = i;
                    displayProducts(products, productList, pagination);
                });
                pagination.appendChild(pageButton);
            }
        }
    
        // 显示商品详情
        function showDetails(name, image, description, price) {
            const productList = document.getElementById('product-list');
            const productDetails = document.getElementById('product-details');
    
            productList.style.display = 'none';
            productDetails.style.display = 'block';
    
            document.getElementById('details-name').textContent = name;
            document.getElementById('details-image').src = image;
            document.getElementById('details-description').textContent = description;
            document.getElementById('details-price').textContent = price;
        }
    
        // 返回商品列表
        function goBack() {
            document.getElementById('product-list').style.display = 'block';
            document.getElementById('product-details').style.display = 'none';
        }
    </script>
     -->

    <a href="#" id="helpFile">?</a>

    <script>
        var helpFile = document.getElementById('helpFile');

        helpFile.addEventListener('mouseenter', function () {
            helpFile.textContent = 'Help File';
        });

        helpFile.addEventListener('mouseleave', function () {
            helpFile.textContent = '?';
        });

        helpFile.addEventListener('focus', function () {
            helpFile.textContent = 'Help File';
        });

        helpFile.addEventListener('blur', function () {
            helpFile.textContent = '?';
        });

    </script>

    <div id="form-ct">
        <i class="fa-solid fa-xmark"></i>
        <form id="registerForm">
            <div id="user-details">
                <label for="givenName" class="formLabel">Given name</label>
                <input type="text" id="givenName" class="formInput">

                <label for="surname" class="formLabel">Surname</label>
                <input type="text" id="surname" class="formInput">

                <label for="username" class="formLabel">Username</label>
                <input type="text" id="username" class="formInput">

                <label for="password" class="formLabel">Password</label>
                <input type="password" id="password" class="formInput">

            </div>
            <div id="address-details">
                <label for="homeAddress" class="formLabel">Home Address</label>
                <input type="text" id="homeAddress" class="formInput">

                <label for="workAddress" class="formLabel">Work Address</label>
                <input type="text" id="workAddress" class="formInput">

            </div>
            <div id="contact-details">
                <label for="mobileNumber" class="formLabel">Mobile Number</label>
                <input type="tel" id="mobileNumber" class="formInput">

                <label for="email" class="formLabel">Email</label>
                <input type="email" id="email" class="formInput">

            </div>
        </form>

    </div>

    <script>
        var form = document.getElementById("form-ct");

        var openButton = document.getElementById("trigger-modal");

        var closeButton = document.getElementsByClassName("fa-xmark")[0];

        openButton.onclick = function () {
            form.style.display = "block";
        }

        closeButton.onclick = function () {
            form.style.display = "none";
        }

        window.onclick = function (event) {
            if (event.target == form) {
                form.style.display = "none";
            }
        }

        document.addEventListener('keydown', function (event) {
            if (event.key == "Escape") {
                form.style.display = "none"
            }
        });

    </script>



</body>

</html>