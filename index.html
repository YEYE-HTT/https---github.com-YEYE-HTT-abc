<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Shopping!</title>
    <link rel="stylesheet" href="index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> 
    <link
        href="https://fonts.googleapis.com/css2?family=Arimo:wght@600&family=Caveat:wght@400..700&family=Sedan&family=Roboto+Serif:ital,opsz,wght@0,8..144,100..900;1,8..144,100..900&family=Kalam:wght@700&family=Merriweather&display=swap"
        rel="stylesheet">
    <script src="https://kit.fontawesome.com/1c4b2b8f9d.js" crossorigin="anonymous"></script>

</head>


<body>
    <header id='banner'>
        <img src="4.png"  id='logo'>
        <nav id='menu'>
            <a href="#" class="singleMenu selected">Home</a>
            <a href="#" class="singleMenu">Women</a>
            <a href="#" class="singleMenu">Men</a>
            <a href="#" class="singleMenu">Contact</a>
        </nav>
        <!-- <p id='slogan'>Earn Your Commission From Today</p> -->
        <a href="#" id="trigger-modal">Register</a>
    </header>
    <main id='main'>
        <img src="a.jpg"
            style="width: 100%; position: absolute; top: 0;">
        <section id="pictureOverlay">
            <h1 id="websiteTitle">Dream big, start small, but most of all, start.</h1>

            <h3 id="websiteExplanation">Promote your favorite products to your fans!
                <br>Click on any product to learn more and explore exciting possibilities today!
            </h3>

            <form id="searchBox">
                <input type="text" placeholder="Search for items or location..." id="searchBoxInput"
                    style="color:#FFFF00;">
                <button type="submit" id="searchBoxButton"><i class="fa-solid fa-magnifying-glass"
                        style="width:90%;"></i></button>
            </form>
        </section>
    </main>

    <script>
        var input = document.getElementById('searchBoxInput');
        var border = document.getElementById('searchBox');

        input.addEventListener('focus', function () {
            border.style.boxShadow = "0 0 7px 3px #00BB2D";
        });

        input.addEventListener('blur', function () {
            border.style.boxShadow = "0 0 20px 0 #353535";
        });
    </script>

    <!-- Top Sales 区域 -->

    <!-- <section id="top-sales">
        <h2>Top Sales / Top Commission</h2>
    
        <div class="top-sales-item">
            <div class="left-content">
                <img src="1.jpg" alt="Top Sales product" class="top-sales-image">
                <a href="website.html" class="top-sales-link">xxxx.link</a>
            </div>

            <div class="right-content">
                <h3>Small Box</h3>
                <p>A sleek, elegant box crafted from premium materials. Perfect for storing jewelry or small items with style. 
                    Compact, practical, and versatile—ideal for home or travel.</p>
                <p class="top-sales-price">$250</p>
            </div>
        </div>
    </section> -->

        <div class="top-section">
            <h2>Top Sales</h2>
            <div class="top-label">
            <!-- <h2>Top Sales</h2> -->
            </div>
            <div id="top-sales" class="sales-container">
            </div>
        </div>
        

    <div id="layout">
        <nav id="sidebar"></nav>
        <section id = "product-list"></section>
        <section id = "product-details" style = "display:none;">
            <h2 id = "details-name"></h2>
            <img id = "details-image" src=""alt = "商品图片" width ="300" height ="300">
            <p id = "details-description"></p>
            <p id = "details-price"></p>
            <button onclick="goBack()" >return</button>
        </section>

    </div>


    <script>
        const products = [
            { name: "Small box1", image: "1.jpg", description: "这是商品1的详细描述。", price: "$100" },
            { name: "Small box2", image: "2.jpg", description: "这是商品2的详细描述。", price: "$150" },
            { name: "Small box3", image: "3.jpg", description: "这是商品3的详细描述。", price: "$200" },
            { name: "Small box4", image: "4.jpg", description: "这是商品4的详细描述。", price: "$400" },
            { name: "Small box5", image: "1.jpg", description: "这是商品5的详细描述。", price: "$200" },
            { name: "Small box6", image: "2.jpg", description: "这是商品6的详细描述。", price: "$400" }
        ];
    // window.onload = function() {
    //     const productList = document.getElementById('product-list');
    //     const sidebar=document.getElementById('sidebar');

    //     const categoryNote = document.createElement('h2');
    //     categoryNote.textContent = "类目"; 
    //     categoryNote.style.textAlign = 'center';  
    //     categoryNote.style.marginBottom = '20px'; 
    //     sidebar.appendChild(categoryNote);
        
    //     products.forEach((product, index) => {
    //         const article = document.createElement('article');
    //         article.className = 'product';

    //         article.innerHTML = `
    //             <h2 class="product-name">${product.name}</h2>
    //             <img src="${product.image}" alt="${product.name}图片" width="200" height="100">
    //             <p class="product-price">${product.price}</p>
    //             <a href="details.html?product=${index}"><button>查看详情</button></a>
    //         `;
            
    //         productList.appendChild(article);
    //     });
    //     setTimeout(() => {
    //         const productListHeight = productList.offsetHeight;
    //         console.log('Product list total height:', productListHeight);

    //         const tabHeight = 100;
    //         const numberOfTabs =15;
    //         console.log('Number of tabs to generate:', numberOfTabs);


    //         for (let i = 0; i < numberOfTabs; i++) {
    //             const tab = document.createElement('a');
    //             tab.className = 'tab';
    //             tab.href = `#tab${i}`;
    //             tab.textContent = `Tab ${i + 1}`;
    //             sidebar.appendChild(tab);
    //         }
    //         window.addEventListener('scroll', handleScroll);
    // });
    window.onload = function() {
    const productList = document.getElementById('product-list');
    const sidebar = document.getElementById('sidebar');
    const topSales = document.getElementById('top-sales'); // 获取 Top Sales 容器

    const categoryNote = document.createElement('h2');
    categoryNote.textContent = "类目"; 
    categoryNote.style.textAlign = 'center';  
    categoryNote.style.marginBottom = '20px'; 
    sidebar.appendChild(categoryNote);

    // 遍历产品列表并在产品区域显示
    products.forEach((product, index) => {
        const article = document.createElement('article');
        article.className = 'product';

        article.innerHTML = `
            <h2 class="product-name">${product.name}</h2>
            <img src="${product.image}" alt="${product.name}图片" width="200" height="100">
            <p class="product-price">${product.price}</p>
            <a href="details.html?product=${index}"><button>查看详情</button></a>
        `;
        productList.appendChild(article);
    });

    // 遍历产品列表并在 Top Sales 区域显示滚动商品
    products.forEach((product, index) => {
        const saleItem = document.createElement('div');
        saleItem.className = 'sale-item';
        saleItem.innerHTML = `
            <h2 class="product-name">${product.name}</h2>
            <img src="${product.image}" alt="${product.name}图片" width="100" height="50">
            <p class="product-price">${product.price}</p>
        `;
        topSales.appendChild(saleItem); // 插入到滚动区域
    });

    // 动态生成侧边栏的 Tab 列表
    setTimeout(() => {
        const productListHeight = productList.offsetHeight;
        console.log('Product list total height:', productListHeight);

        const tabHeight = 100;
        const numberOfTabs = 15;
        console.log('Number of tabs to generate:', numberOfTabs);

        for (let i = 0; i < numberOfTabs; i++) {
            const tab = document.createElement('a');
            tab.className = 'tab';
            tab.href = `#tab${i}`;
            tab.textContent = `Tab ${i + 1}`;
            sidebar.appendChild(tab);
        }

        window.addEventListener('scroll', handleScroll);
    }, 100); // 延迟确保商品列表渲染完毕后计算高度
};

    // 获取所有的 sale-item 元素
    const saleItems = document.querySelectorAll('.sale-item');

    // 当鼠标移到 sale-item 上时暂停动画
    saleItems.forEach(item => {
    item.addEventListener('mouseover', () => {
        item.style.animationPlayState = 'paused'; // 暂停动画
    });

    item.addEventListener('mouseout', () => {
        item.style.animationPlayState = 'running'; // 继续动画
    });
    });



        function showDetails(index){
            window.location.href='website.html?product=${index}';
        }

        function goBack() {
            document.getElementById('product-list').style.display = 'block';
            document.getElementById('product-details').style.display = 'none';
        }
    </script>




    

    <a href="#" id="helpFile">?</a>

    <script>
        var helpFile = document.getElementById('helpFile');

        helpFile.addEventListener('mouseenter', function () {
            helpFile.textContent = 'Help File';
        });

        helpFile.addEventListener('mouseleave', function () {
            helpFile.textContent = '?';
        });

        helpFile.addEventListener('focus', function () {
            helpFile.textContent = 'Help File';
        });

        helpFile.addEventListener('blur', function () {
            helpFile.textContent = '?';
        });

    </script>

    <div id="form-ct">
        <i class="fa-solid fa-xmark"></i>
        <form id="registerForm">
            <div id="user-details">
                <label for="givenName" class="formLabel">Given name</label>
                <input type="text" id="givenName" class="formInput">

                <label for="surname" class="formLabel">Surname</label>
                <input type="text" id="surname" class="formInput">

                <label for="username" class="formLabel">Username</label>
                <input type="text" id="username" class="formInput">

                <label for="password" class="formLabel">Password</label>
                <input type="password" id="password" class="formInput">

            </div>
            <div id="address-details">
                <label for="homeAddress" class="formLabel">Home Address</label>
                <input type="text" id="homeAddress" class="formInput">

                <label for="workAddress" class="formLabel">Work Address</label>
                <input type="text" id="workAddress" class="formInput">

            </div>
            <div id="contact-details">
                <label for="mobileNumber" class="formLabel">Mobile Number</label>
                <input type="tel" id="mobileNumber" class="formInput">

                <label for="email" class="formLabel">Email</label>
                <input type="email" id="email" class="formInput">

            </div>
        </form>

    </div>

    <script>
        var form = document.getElementById("form-ct");

        var openButton = document.getElementById("trigger-modal");

        var closeButton = document.getElementsByClassName("fa-xmark")[0];

        openButton.onclick = function () {
            form.style.display = "block";
        }

        closeButton.onclick = function () {
            form.style.display = "none";
        }

        window.onclick = function (event) {
            if (event.target == form) {
                form.style.display = "none";
            }
        }

        document.addEventListener('keydown', function (event) {
            if (event.key == "Escape") {
                form.style.display = "none"
            }
        });

    </script>



</body>

</html>